<!DOCTYPE html>
<%@include file="prevent.jsp"%>

<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ page language="java" import="java.util.*"%>

<head>
<title>Daily Practical Attendance Result</title>
<meta name="viewport" content="=600, initial-scale=1">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/attendance.css">
<link rel="stylesheet" href="css/dataTables.bootstrap.css" />


<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<script src="js/jquery.dataTables.js"></script>
<script src="js/dataTables.bootstrap.js"></script>
<script>
	$(document).ready(function() {
		$('#dataTables-example').dataTable();
	});
</script>
<script src="assets/js/anchor.min.js"></script>

</head>
<body>

	<div class="container">
		<div class="row">
			<div class="col-md-12  offset-md-1">
				<form action="dailyPracticalAttendance"
					name="dailyPracticalAttendance" class="form-data">
					<h3 class="text-center">Daily Practical Attendance Result</h3>

					<div class="row">
						<div class="col-md-4 col-xs-12">

							<div class="form-resp">
								<H4>MANDATORY FIELDS</H4>


								<div class="form-group">
									<label for="datetime">Date And Time</label> <input
										type="datetime-local" class="form-control" name="datetime"
										value="${datetime}" required="required">

								</div>

								<div class="form-group">
									<label for="branch">Branch</label> <select
										class="form-control form-control-md" id="bname" name="branch">
										<option
											value="<%=(String) session.getAttribute("userBranch")%>"><%=(String) session.getAttribute("userBranch")%></option>
									</select>
								</div>

								<div class="form-group">
									<label for="division">Divison</label> <select
										class="form-control form-control-md" id="divsion"
										name="division">

										<%
											String divsion = (String) request.getAttribute("division");
											if (divsion != null) {
										%>
										<option value="<%=divsion%>"><%=divsion%></option>
										<%
											}
										%>

										<option disabled value="">Select Division</option>
										<option value="A">A</option>
										<option value="B">B</option>
										<option value="C">C</option>
										<option value="D">D</option>


									</select>
								</div>

								<div class="form-group">
									<label for="batch">Batch</label> <select
										class="form-control form-control-md" id="batch" name="batch">
										<%
											String batch = (String) request.getAttribute("batch");

											if (batch != null) {
										%>
										<option value="<%=batch%>"><%=batch%></option>
										<%
											}
										%>
										<option value="">Select Batch</option>
										<option value="B1">B1</option>
										<option value="B2">B2</option>
										<option value="B3">B3</option>
										<option value="B4">B4</option>
									</select>
								</div>

								<div class="form-group">
									<label for="sem">Sem</label> <select
										class="form-control form-control-md" id="sem" name="sem">

										<%
											String sem = (String) request.getAttribute("sem");

											if (sem != null) {
										%>
										<option value="<%=sem%>"><%=sem%></option>
										<%
											}
										%>
										<option value="00">Select Sem</option>
										<option value="01">1</option>
										<option value="02">2</option>
										<option value="03">3</option>
										<option value="04">4</option>
										<option value="05">5</option>
										<option value="06">6</option>
										<option value="07">7</option>
										<option value="08">8</option>
									</select>
								</div>

								<div class="form-group">
									<label for="subject">Subject</label> <select
										class="form-control form-control-md" id="subject"
										name="subject" required="required">
										<%
											String subject = (String) request.getAttribute("subject");
											if (subject != null) {
										%>
										<option value="<%=subject%>"><%=subject%></option>
										<%
											}
										%>
										<option value="">Select Subject</option>

									</select>
								</div>

								<button type="submit" class="btn btn-primary btn-block "
									value="Show" name="action">Show</button>
							</div>
						</div>

						<div class="col-md-6 col-xs-12">
							<div class="form-resp">


								<div class="table-data">
									<table class="table table-dark table-striped"
										id="dataTables-example" border="1">
										<thead>
											<tr>
												<th class="text-center">Roll.NO</th>
												<th class="text-center">Name</th>
											</tr>
										</thead>
										<tbody>

											<%
												Iterator itr2;
												List dayAttendance = (List) request.getAttribute("dayAttendance");
												if (dayAttendance != null) {
													for (itr2 = dayAttendance.iterator(); itr2.hasNext();) {
											%>

											<tr>
												<td class="text-center"><%=itr2.next()%></td>
												<td class="text-center"><%=itr2.next()%></td>
											</tr>
											<%
												}
												}
											%>



										</tbody>
									</table>

								</div>



							</div>

						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<script>
		$(document).ready(function() {
			$("#sem").on("change", function() {
				var bname = $("#bname").val();

				var sem = $("#sem").val();
				/* alert(bname);
				alert(sem); */
				$.ajax({
					url : "getPracticalSubject.jsp",//your jsp page name
					data : {
						bname : bname,
						sem : sem
					},//sending request to state.jsp page.
					method : "POST",//HTTP method.
					success : function(data) {
						$("#subject").html(data);//output or response will display in state select box.
					}
				});
			});
		});
	</script>

</body>
</html>
<%@include file="footer.html"%>
